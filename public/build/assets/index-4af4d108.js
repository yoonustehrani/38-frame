import{r as n,a,j as e}from"./client-58cc365f.js";import{R as f}from"./Request-e20e83b2.js";function m(t,r){return t=Math.ceil(t),r=Math.floor(r),Math.floor(Math.random()*(r-t)+t)}const h=t=>t>=1e3?Math.floor(t/100)/10+"k":t,x=({title:t,url:r,avatar:s,description:c,views:o,author:l})=>{const i=n.useMemo(()=>m(-2,2),[]);return a("div",{style:{rotate:i+"deg"},className:"bg-creamy shadow-md rounded-b-md py-2 px-3 relative -mt-4 z-10 mb-8 flex flex-col",children:[e("img",{src:s,className:"w-full",alt:""}),a("div",{className:"mt-4 relative grow flex flex-col justify-between",children:[e("h5",{className:"font-bold text-lg text-gray-800",children:t}),e("p",{className:"text-sm text-gray-700 text-justify px-1",children:c}),e("div",{className:"flex justify-end",children:e("a",{className:"text-sm font-bold text-center w-fit hover:text-orange-600 hover:border-orange-600 border-transparent text-gray-500 duration-300 rounded-md mt-3 px-4 py-1 border-2 border-dashed",href:r,children:"بخوانید"})}),e("hr",{className:"my-3"}),a("div",{className:"flex flex-row-reverse items-center justify-between px-2 text-xs",children:[a("div",{className:"flex flex-row-reverse gap-2 items-center text-gray-600",onClick:d=>{d.preventDefault(),window.location.href=l.url},children:[e("span",{className:"rounded-full overflow-hidden",children:e("img",{className:"h-8 w-8",src:l.avatar,alt:l.name})}),e("span",{children:l.name})]}),a("div",{className:"flex flex-row-reverse items-center gap-1",children:[e("img",{className:"h-5 w-5",src:"/icons/eye.svg",alt:""}),e("span",{className:"italic",children:h(o)})]})]})]})]})},g={baseURL:window.location.origin+"/api",headers:{Accept:"application/json"}};function p(){return new f(g).to("posts?limit=4").send()}const u=()=>{const[t,r]=n.useState([]);if(n.useEffect(()=>{const[s,c]=p();s.then(o=>{o.hasErrors()||r(o.getContent())})},[]),t.length>0)return e("div",{className:"my-8 flex justify-center relative before:z-0 before:no-content before:w-full before:absolute before:h-2 before:bg-rope",children:e("div",{className:"grid grid-cols-4 w-3/4 gap-8 font-iran-sans",children:t.map(s=>e(x,{...s},s.id))})})},w=u;export{w as default};
