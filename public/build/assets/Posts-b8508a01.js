import{r as d,j as e,a as t,F as p}from"./client-abbe1494.js";import{B as g,a as u}from"./BreadCrumb-9b4d90e8.js";import{f as b}from"./api-0071e415.js";import{L as h}from"./Auth-8243c99e.js";import{u as y}from"./tableHooks-91b416c3.js";import"./ArrowIcon-202630a0.js";import"./Request-86ea05f5.js";const m=d.createContext({items:[],toggle:l=>{},includeAll:()=>{},excludeAll:()=>{}}),N=({loading:l,title:i,items:s,children:o,newItem:n})=>{const c=y(s);return l?e("p",{children:"در حال بارگیری ..."}):s.length===0?t("div",{className:"flex items-center gap-4",children:[t("p",{children:["موردی برای نمایش وجود ندارد","."]}),e(h,{to:n.link,className:"focus:ring-2 focus:ring-offset-2 focus:ring-emerald-600 mt-4 sm:mt-0 inline-flex items-start justify-start px-2 py-2 bg-emerald-700 hover:bg-emerald-600 focus:outline-none rounded",children:t("p",{className:"text-sm font-medium leading-none text-white",children:["افزودن",n.title?` ${n.title}`:""]})})]}):t("div",{className:"sm:px-6 w-full",children:[e("div",{className:"px-4 md:px-10 py-4 md:py-7",children:t("div",{className:"flex items-center justify-between",children:[e("p",{tabIndex:0,className:"focus:outline-none text-base sm:text-lg md:text-xl lg:text-2xl font-bold leading-normal text-gray-800",children:i}),t("div",{className:"py-3 px-4 flex items-center text-sm font-medium leading-none text-gray-600 bg-gray-200 hover:bg-gray-300 cursor-pointer rounded",children:[e("p",{children:"مرتب سازی بر اساس:"}),t("select",{"aria-label":"select",className:"focus:text-emerald-600 focus:outline-none bg-transparent ml-1",children:[e("option",{className:"text-sm text-emerald-800",children:"جدیدترین"}),e("option",{className:"text-sm text-emerald-800",children:"قدیمی ترین"})]})]})]})}),t("div",{className:"bg-white py-4 md:py-7 px-4 md:px-8 xl:px-10",children:[t("div",{className:"sm:flex items-center justify-between",children:[e("div",{className:"flex gap-2 items-center",children:e("a",{className:"rounded-md focus:outline-none focus:ring-2  focus:bg-emerald-50 focus:ring-emerald-800",children:e("div",{className:"py-2 px-3 bg-emerald-100 text-emerald-700 rounded-md",children:e("p",{children:"همه"})})})}),e(h,{to:n.link,className:"focus:ring-2 focus:ring-offset-2 focus:ring-emerald-600 mt-4 sm:mt-0 inline-flex items-start justify-start px-6 py-3 bg-emerald-700 hover:bg-emerald-600 focus:outline-none rounded",children:t("p",{className:"text-sm font-medium leading-none text-white",children:["افزودن",n.title?` ${n.title}`:""]})})]}),e("div",{className:"mt-7 overflow-x-auto",children:e("table",{className:"w-full whitespace-nowrap",children:e(m.Provider,{value:c,children:o})})})]})]})},v=({columns:l})=>{const i=d.useContext(m);return e("thead",{children:t("tr",{children:[e("th",{className:"py-2",children:e("div",{className:"flex items-center justify-center",children:e("div",{className:"bg-gray-200 rounded-sm w-5 h-5 flex flex-shrink-0 justify-center items-center relative",children:e("input",{onChange:s=>{s.target.checked?i.includeAll():i.excludeAll()},placeholder:"checkbox",type:"checkbox",className:"accent-indigo-700 checkbox absolute cursor-pointer w-full h-full"})})})}),e("th",{className:"py-2",children:"#"}),l.map(s=>e("th",{className:"py-2",children:s},s))]})})},a=({children:l})=>e("td",{className:"px-2",children:e("div",{className:"flex items-center justify-center",children:l})});function f(l){return new Intl.DateTimeFormat("fa-IR",{timeStyle:"short",dateStyle:"medium"}).format(new Date(l))}const T=()=>{const[l,i]=d.useState(),[s,o]=d.useState(!0);return d.useLayoutEffect(()=>{const[n,c]=b();return n.then(r=>{o(!0),r.hasErrors()||i(r.getContent()),o(!1)}),c},[]),t("section",{children:[e("h1",{className:"font-bold text-2xl",children:"مدیریت مقاله ها"}),t(g,{children:[e(u,{link:"/",children:"پنل مدیریت"}),e(u,{children:"لیست مقاله ها"})]}),e("section",{className:"w-full my-6 text-sm",children:t(N,{title:"مقاله ها",loading:s,items:l||[],newItem:{link:"/posts/create",title:"مقاله"},children:[e(v,{columns:[" ","عنوان","تاریخ ایجاد","آخرین ویرایش"]}),e(m.Consumer,{children:({toggle:n,items:c})=>e(p,{children:l&&l.map((r,x)=>e("tbody",{children:t("tr",{tabIndex:0,className:"focus:outline-none h-16 border border-gray-100 rounded",children:[e(a,{children:e("div",{className:"bg-gray-200 rounded-sm w-5 h-5 flex flex-shrink-0 justify-center items-center relative",children:e("input",{onChange:()=>n(r.id),checked:c.includes(r.id),placeholder:"checkbox",type:"checkbox",className:"accent-indigo-700 checkbox absolute cursor-pointer w-full h-full"})})}),e(a,{children:x+1}),e(a,{children:r.avatar.thumbnailUri&&e("img",{width:50,height:50,src:r.avatar.thumbnailUri,alt:""})}),e(a,{children:e("p",{className:"text-base font-medium leading-none text-gray-700",children:r.title})}),e(a,{children:f(r.created_at)}),e(a,{children:f(r.updated_at)})]})},r.id))})})]})})]})};export{T as Component};
