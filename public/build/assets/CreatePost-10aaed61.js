import{a as r,j as e}from"./client-abbe1494.js";import{B as u,a as l}from"./BreadCrumb-9b4d90e8.js";import{F as f,a as N}from"./formContext-6cf63da9.js";import{I as s}from"./Input-afe2263d.js";import{R as y,A as w}from"./AvatarPick-fa7d48fe.js";import{T as d}from"./TextArea-13072f5e.js";import{c as v}from"./api-2e2ce2c7.js";import{Q as a}from"./react-admin-c2f0e9a2.js";import{j as P}from"./Auth-8243c99e.js";import"./ArrowIcon-202630a0.js";import"./hoist-non-react-statics.cjs-3f8ebaa8.js";import"./FormSection-0da77780.js";import"./Request-86ea05f5.js";import"./PlusIcon-56c11ef8.js";const j={blogPost:{title:"",description:"",body:"",status:"published"},avatar:null,seo:{html_title:"",meta_description:""}},D=()=>{const n=P();async function c(m,k){const[b,E]=v(m);b.then(t=>{t.hasErrors()||(a.success("مقاله با موفقیت ایجاد شد."),n("/posts"));const i=t.hasErrors()&&t.getErrorObject();if(i){const o=i.response;a.error(o.message,{style:{direction:"rtl",textAlign:"right"}}),Object.entries((o==null?void 0:o.errors)||{}).forEach(([A,h],p)=>{setTimeout(()=>{h.forEach((g,x)=>{setTimeout(()=>{a.error(g,{style:{direction:"rtl",textAlign:"right"}})},x*500)})},p*300)});return}console.log(t.getErrorObject())})}return r("section",{children:[e("h1",{className:"font-bold text-2xl",children:"ایجاد مقاله"}),r(u,{children:[e(l,{link:"/",children:"ناحیه کاربری"}),e(l,{link:"/posts",children:"مقاله ها"}),e(l,{children:"ایجاد مقاله"})]}),e(f,{initialValues:j,onSubmit:c,children:r(N,{className:"w-full flex flex-col-reverse lg:flex-row gap-6",children:[r("section",{className:"grow flex flex-col gap-6",children:[r("section",{className:"border border-black/5 bg-white px-6 py-8 shadow-md rounded-lg",children:[e("h2",{className:"font-bold text-xl mb-4",children:"فرم ایجاد مقاله"}),r("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e(s,{name:"blogPost[title]",label:"عنوان مقاله",id:"title",className:"mb-3 py-2 px-3",required:!0}),e(s,{name:"blogPost[subtitle]",label:"زیرعنوان",id:"subtitle",className:"mb-3 py-2 px-3"}),e(d,{name:"blogPost[description]",label:"توضیحات",id:"description",className:"p-3",required:!0})]})]}),r("section",{className:"border border-black/5 bg-white px-6 py-8 shadow-md rounded-lg",children:[e("h2",{className:"font-bold text-xl mb-4",children:"محتوای مقاله"}),e(y,{name:"blogPost[body]",className:"col-span-full",required:!0})]}),r("section",{className:"border border-black/5 bg-white px-6 py-8 shadow-md rounded-lg",children:[e("h2",{className:"font-bold text-xl mb-4",children:"SEO"}),r("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e(s,{name:"seo[html_title]",label:"عنوان صفحه",id:"seo-title",className:"mb-3 py-2 px-3"}),e(d,{name:"seo[meta_description]",label:"متای توضیحات",id:"seo-meta-description",className:"mb-3 p-3"})]})]})]}),r("aside",{className:"w-full lg:max-w-sm lg:w-1/3 flex flex-col gap-4",children:[e(w,{name:"avatar"}),r("section",{className:"border border-black/5 bg-white px-6 py-8 shadow-md rounded-lg",children:[e("h2",{className:"font-bold text-xl mb-4",children:"اقدامات"}),r("div",{className:"flex flex-row justify-start items-center gap-4",children:[e("button",{type:"submit",role:"button",className:"text-sm border font-bold border-dashed hover:border-solid hover:bg-x-green hover:text-white border-x-green text-x-green px-3 py-2 rounded-md duration-300",children:"انتشار"}),e("button",{type:"button",role:"button",className:"text-sm border font-bold border-dashed hover:border-solid hover:bg-gray-800 hover:text-white border-gray-800 text-gray-800 px-3 py-2 rounded-md duration-300",children:"باشه بعدا"})]})]})]})]})})]})};export{D as Component};
