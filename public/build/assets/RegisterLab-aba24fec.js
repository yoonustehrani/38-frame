import{a,j as r,r as p,F as _,_ as d}from"./client-58cc365f.js";import{B as S,a as x}from"./BreadCrumb-199df1aa.js";import{c as m,a as n,b as g,d as f,e as L,F as R}from"./index.esm-d15ecbe5.js";import{f as j,F as $,t as z,a as O}from"./formContext-c4ccf986.js";import{A as v}from"./ArrowIcon-18cff6a5.js";import{R as y}from"./Request-e20e83b2.js";const w="font-bold border-2 border-dashed border-transparent hover:border-x-dark-blue hover:text-x-dark-blue duration-300 text-gray-700 flex flex-row-reverse justify-center items-center gap-2 px-4 py-1 rounded-lg",P=({nextLevel:e,prevLevel:i})=>a("div",{className:"col-span-full flex justify-center gap-6",children:[i&&a("button",{onClick:i,className:w,type:"button",children:["بازگشت ",r(v,{to:"right",size:35})]}),a("button",{className:w,onClick:e,type:e?"button":"submit",children:[r(v,{to:"left",size:35}),e?"بعدی":"ارسال فرم"]})]}),t={required:"لطفا این فیلد را پاسخ دهید.",invalid_phone_numbe:"فرمت شماره تلفن معتبر نیست.",min(e){return`حداقل ${e} کاراکتر وارد کنید.`},max(e){return`حداکثر می توانید ${e} کاراکتر وارد کنید.`},length(e,i="کاراکتر"){return`باید ${e} ${i} باشد.`}},D=m({brand:n().required(t.required).min(3,t.min(3)).max(40,t.max(40)),founded_in_year:g().required(t.required).min(1300).max(1402),bio:n().optional().min(10,t.min(10)).max(300,t.max(300)),address:n().optional().min(10,t.min(10)).max(300,t.max(300)),category:n().required(t.required),phone_number:n().required(t.required).length(11,t.length(11,"رقم")).matches(/09[0-9]{9}/,{message:t.invalid_phone_numbe}),address_line:n().length(11,t.length(11,"رقم")),meta:m({social:m({instagram:n().optional().min(4,t.min(4)).max(60,t.max(60)),telegram_channel:n().optional().min(4,t.min(4)).max(60,t.max(60))}),workingDays:f().optional().of(m({name:n(),id:g(),hours:m({from:n(),to:n()}).optional()})),onlySms:L().default(!1)}),services:f().optional().of(m({service_id:g().required(),description:n().required().min(3).max(200),price:g().optional().min(1e3),price_note:n().optional().min(3)})),iban:n().required().length(24,t.length(24,"رقم")),owner_fullname:n().required().min(3,t.min(3)).max(60,t.max(60)),owner_national_id:n().required().length(10,t.length(10,"رقم")),website:n().optional().url(),accpect_policy:n().required()}),V={baseURL:window.location.origin+"/api",headers:{Accept:"application/json"}},I=e=>new y(V).method("post").to("/labs/register").send(e),J=()=>new y(V).to("/site-categories?type=service").send(),c=[{lazy:()=>d(()=>import("./GeneralDataForm-16d7c651.js"),["assets/GeneralDataForm-16d7c651.js","assets/client-58cc365f.js","assets/Input-8093a8ee.js","assets/FormSection-b5fa1c80.js","assets/formContext-c4ccf986.js","assets/hoist-non-react-statics.cjs-3f8ebaa8.js","assets/SelectBox-86ee8e8b.js","assets/styled-1092f92f.js","assets/FormControl-5500baed.js","assets/SwitchBase-d5bfe78b.js","assets/RadioGroup-137a6be0.js","assets/createSvgIcon-b56db109.js"]),title:"اطلاعات کلی لابراتوار",initialValues:{brand:"برند تستی",founded_in_year:1395,category:"",bio:"همیشه ارزون میفروشیم",address:"مشهد سناباد ۸۸"}},{lazy:()=>d(()=>import("./LabServicesForm-6a8e9dc9.js"),["assets/LabServicesForm-6a8e9dc9.js","assets/client-58cc365f.js","assets/formContext-c4ccf986.js","assets/hoist-non-react-statics.cjs-3f8ebaa8.js","assets/BreadCrumb-199df1aa.js","assets/ArrowIcon-18cff6a5.js","assets/react-userarea-bbb4809d.js","assets/Request-e20e83b2.js","assets/index.esm-d15ecbe5.js"]),title:"خدمات لابراتوار",initialValues:{services:[]}},{lazy:()=>d(()=>import("./Logo-00244ef0.js"),["assets/Logo-00244ef0.js","assets/client-58cc365f.js"]),title:"هویت بصری لابراتوار",initialValues:{}},{lazy:()=>d(()=>import("./LabDetails-9bbe3fe2.js"),["assets/LabDetails-9bbe3fe2.js","assets/client-58cc365f.js","assets/formContext-c4ccf986.js","assets/hoist-non-react-statics.cjs-3f8ebaa8.js","assets/Input-8093a8ee.js","assets/FormSection-b5fa1c80.js","assets/Input-fb8632cd.js","assets/index.esm-d15ecbe5.js","assets/index-81c6ef03.js","assets/Switch-cb673037.js","assets/styled-1092f92f.js","assets/SwitchBase-d5bfe78b.js"]),title:"اطلاعات تکمیلی",initialValues:{owner_fullname:"یونس طهرانی",owner_national_id:"0926534831",website:"",iban:"130170000000114503193004"}},{lazy:()=>d(()=>import("./ContactInfoForm-1fbe4431.js"),["assets/ContactInfoForm-1fbe4431.js","assets/client-58cc365f.js","assets/Input-8093a8ee.js","assets/FormSection-b5fa1c80.js","assets/formContext-c4ccf986.js","assets/hoist-non-react-statics.cjs-3f8ebaa8.js","assets/index.esm-d15ecbe5.js","assets/Checkbox-c0828f60.js","assets/styled-1092f92f.js","assets/SwitchBase-d5bfe78b.js","assets/createSvgIcon-b56db109.js"]),title:"راه های ارتباطی",initialValues:{phone_number:"09150013422",address_line:"",meta:{social:{instagram:"soolakhi",telegram_channel:"soolakhitg"},workingDays:null,onlySms:!1}}},{lazy:()=>d(()=>import("./AcceptPolicyForm-d9efb47e.js"),["assets/AcceptPolicyForm-d9efb47e.js","assets/client-58cc365f.js","assets/formContext-c4ccf986.js","assets/hoist-non-react-statics.cjs-3f8ebaa8.js","assets/Checkbox-c0828f60.js","assets/styled-1092f92f.js","assets/SwitchBase-d5bfe78b.js","assets/createSvgIcon-b56db109.js"]),title:"شرایط و ضوابط",initialValues:{accpect_policy:""}}],T=Object.fromEntries(c.flatMap(e=>Object.entries(e.initialValues)));function F(e){return Object.keys(c[e].initialValues)}const B=()=>{const[e,i]=p.useState(0),[b,E]=p.useState(!1);if(e>c.length)return null;const k=p.lazy(c[e].lazy),N=(l,{setSubmitting:h})=>{const[o,s]=I(l);o.then(u=>{if(u.hasErrors()){console.error(u.getContent());return}console.log(u.getContent())})},q=e<c.length-1?()=>{i(l=>l+1)}:void 0,A=e>0?()=>{i(l=>l-1)}:void 0;function C(l,h){return F(l).filter(o=>Object.keys(h).includes(o))}return r(j.Provider,{value:b,children:a("section",{children:[r("h1",{className:"font-bold text-2xl",children:"ثبت نام به عنوان لابراتوار، تاریکخانه، تعمیرکار"}),a(S,{children:[r(x,{link:"/",children:"ناحیه کاربری"}),r(x,{link:"/lab",children:"لابراتوار"}),r(x,{children:"ایجاد لابراتوار"})]}),a("section",{className:"w-full xl:w-3/4 2xl:w-3/5 border border-black/5 shadow-md rounded-lg p-6",children:[a("h2",{className:"font-semibold text-xl text-gray-800 mt-4 mb-6 svg-inherit col-span-full",children:[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"30",height:"30",children:r("path",{d:"M19.949,5.536,16.465,2.05A6.958,6.958,0,0,0,11.515,0H7A5.006,5.006,0,0,0,2,5V19a5.006,5.006,0,0,0,5,5H17a5.006,5.006,0,0,0,5-5V10.485A6.951,6.951,0,0,0,19.949,5.536ZM18.535,6.95A4.983,4.983,0,0,1,19.316,8H15a1,1,0,0,1-1-1V2.684a5.01,5.01,0,0,1,1.051.78ZM20,19a3,3,0,0,1-3,3H7a3,3,0,0,1-3-3V5A3,3,0,0,1,7,2h4.515c.164,0,.323.032.485.047V7a3,3,0,0,0,3,3h4.953c.015.162.047.32.047.485Z"})})," ","فرم ایجاد لابراتوار در ۳۸ فریم"]}),r($,{initialValues:T,validationSchema:D,onSubmit:N,children:({errors:l,submitForm:h})=>a(_,{children:[r("div",{className:"w-full overflow-x-auto h-28 px-8",children:a("section",{className:"w-[200%] md:w-auto px-8",children:[r("div",{className:"bg-gray-300 h-2 rounded-full w-full mt-8",children:r("div",{style:{width:`${100/(c.length-1)*e}%`},className:"h-2 bg-zebra width-transition"})}),r("div",{className:"grid grid-rows-1 grid-flow-col place-content-between text-center mt-2 w-full",children:c.map(({title:o},s)=>{let u=b&&C(s,l).length>0;return a("div",{className:"px-3 grow text-center pt-3 relative flex justify-center",children:[r("span",{onClick:()=>i(s),className:`cursor-pointer duration-300 circleular-dot text-black ${s<=e?"bg-x-yellow":"bg-gray-400"}`,children:z(s+1)}),a("span",{onClick:()=>i(s),className:`cursor-pointer absolute w-max duration-300 text-xs ${s<=e?"text-black":"text-gray-500"}`,children:[o,u&&r("span",{className:"mx-1 h-4 w-4 inline-grid place-content-center bg-red-500 text-white rounded-full text-center",children:"!"})]})]},s)})})]})}),a(O,{onSubmit:o=>{o.preventDefault(),o.stopPropagation(),E(!0),h()},noValidate:!0,className:"grid lg:grid-cols-2 gap-8 mt-16 px-6 fadeIn",children:[r(R,{className:"mb-3 text-xl",text:c[e].title}),r(p.Suspense,{fallback:r(_,{children:"در حال لود کردن"}),children:r(k,{})}),r(P,{nextLevel:q,prevLevel:A})]})]})})]})]})})},Q=Object.freeze(Object.defineProperty({__proto__:null,Component:B},Symbol.toStringTag,{value:"Module"}));export{Q as R,J as f};
