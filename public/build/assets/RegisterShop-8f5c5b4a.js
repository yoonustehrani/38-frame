import{a,j as r,r as h,F as b,_ as m}from"./client-abbe1494.js";import{B as k,a as g}from"./BreadCrumb-9b4d90e8.js";import{c as x,a as n,b as A,F as q}from"./index.esm-14f15176.js";import{t as C}from"./numbers-13582722.js";import{A as _}from"./ArrowIcon-202630a0.js";import{f as S,F as j,a as R}from"./formContext-6cf63da9.js";import{R as z}from"./Request-86ea05f5.js";import"./Auth-8243c99e.js";import"./hoist-non-react-statics.cjs-3f8ebaa8.js";const f="font-bold border-2 border-dashed border-transparent hover:border-x-dark-blue hover:text-x-dark-blue duration-300 text-gray-700 flex flex-row-reverse justify-center items-center gap-2 px-4 py-1 rounded-lg",L=({nextLevel:e,prevLevel:i})=>a("div",{className:"col-span-full flex justify-center gap-6",children:[i&&a("button",{onClick:i,className:f,type:"button",children:["بازگشت ",r(_,{to:"right",size:35})]}),a("button",{className:f,onClick:e,type:e?"button":"submit",children:[r(_,{to:"left",size:35}),e?"بعدی":"ارسال فرم"]})]}),t={required:"لطفا این فیلد را پاسخ دهید.",invalid_phone_numbe:"فرمت شماره تلفن معتبر نیست.",min(e){return`حداقل ${e} کاراکتر وارد کنید.`},max(e){return`حداکثر می توانید ${e} کاراکتر وارد کنید.`},length(e,i="کاراکتر"){return`باید ${e} ${i} باشد.`}},$=x({brand:n().required(t.required).min(3,t.min(3)).max(40,t.max(40)),founded_in_year:A().required(t.required).min(1300).max(1402),bio:n().optional().min(10,t.min(10)).max(300,t.max(300)),address:n().optional().min(10,t.min(10)).max(300,t.max(300)),category:n().required(t.required),phone_number:n().required(t.required).length(11,t.length(11,"رقم")).matches(/09[0-9]{9}/,{message:t.invalid_phone_numbe}),address_line:n().length(11,t.length(11,"رقم")),meta:x({social:x({instagram:n().optional().min(4,t.min(4)).max(60,t.max(60)),telegram_channel:n().optional().min(4,t.min(4)).max(60,t.max(60))})}),iban:n().required().length(24,t.length(24,"رقم")),owner_fullname:n().required().min(3,t.min(3)).max(60,t.max(60)),owner_national_id:n().required().length(10,t.length(10,"رقم")),website:n().optional().url(),accpect_policy:n().required()}),I={baseURL:window.location.origin+"/api/shops",headers:{Accept:"application/json"}},O=e=>new z(I).method("post").to("/register").send(e),c=[{lazy:()=>m(()=>import("./GeneralDataForm-beeb95fd.js"),["assets/GeneralDataForm-beeb95fd.js","assets/client-abbe1494.js","assets/Input-afe2263d.js","assets/FormSection-0da77780.js","assets/formContext-6cf63da9.js","assets/hoist-non-react-statics.cjs-3f8ebaa8.js","assets/TextArea-13072f5e.js","assets/SelectBox-fde696f8.js","assets/ThemeProvider-cd7597d9.js","assets/styled-42dbb97a.js","assets/FormControl-31fd935d.js","assets/SwitchBase-78047a2c.js","assets/RadioGroup-f6ba4d01.js","assets/createSvgIcon-4d28ae4a.js"]),title:"اطلاعات کلی فروشگاه",initialValues:{brand:"برند تستی",founded_in_year:1395,category:"فروشگاه تخصصی لوازم عکاسی",bio:"همیشه ارزون میفروشیم",address:"مشهد سناباد ۸۸"}},{lazy:()=>m(()=>import("./Logo-0fe32468.js"),["assets/Logo-0fe32468.js","assets/client-abbe1494.js"]),title:"هویت بصری فروشگاه",initialValues:{}},{lazy:()=>m(()=>import("./ShopDetails-d44e7181.js"),["assets/ShopDetails-d44e7181.js","assets/client-abbe1494.js","assets/formContext-6cf63da9.js","assets/hoist-non-react-statics.cjs-3f8ebaa8.js","assets/Input-afe2263d.js","assets/FormSection-0da77780.js","assets/Input-4acd9be4.js","assets/index.esm-14f15176.js","assets/index-81c6ef03.js"]),title:"اطلاعات تکمیلی",initialValues:{owner_fullname:"یونس طهرانی",owner_national_id:"0926534831",website:"",iban:"130170000000114503193004"}},{lazy:()=>m(()=>import("./ContactInfoForm-358ff043.js"),["assets/ContactInfoForm-358ff043.js","assets/client-abbe1494.js","assets/Input-afe2263d.js","assets/FormSection-0da77780.js","assets/formContext-6cf63da9.js","assets/hoist-non-react-statics.cjs-3f8ebaa8.js","assets/index.esm-14f15176.js"]),title:"راه های ارتباطی",initialValues:{phone_number:"09150013422",address_line:"",meta:{social:{instagram:"soolakhi",telegram_channel:"soolakhitg"}}}},{lazy:()=>m(()=>import("./AcceptPolicyForm-ae3626b8.js"),["assets/AcceptPolicyForm-ae3626b8.js","assets/client-abbe1494.js","assets/formContext-6cf63da9.js","assets/hoist-non-react-statics.cjs-3f8ebaa8.js","assets/Checkbox-66a0f1b6.js","assets/styled-42dbb97a.js","assets/SwitchBase-78047a2c.js","assets/createSvgIcon-4d28ae4a.js"]),title:"شرایط و ضوابط",initialValues:{accpect_policy:""}}],P=Object.fromEntries(c.flatMap(e=>Object.entries(e.initialValues)));function F(e){return Object.keys(c[e].initialValues)}const J=()=>{const[e,i]=h.useState(0),[p,w]=h.useState(!1);if(e>c.length)return null;const v=h.lazy(c[e].lazy),y=(l,{setSubmitting:u})=>{const[o,s]=O(l);o.then(d=>{if(d.hasErrors()){console.error(d.getContent());return}console.log(d.getContent())})},V=e<c.length-1?()=>{i(l=>l+1)}:void 0,E=e>0?()=>{i(l=>l-1)}:void 0;function N(l,u){return F(l).filter(o=>Object.keys(u).includes(o))}return r(S.Provider,{value:p,children:a("section",{children:[r("h1",{className:"font-bold text-2xl",children:"ثبت نام به عنوان فروشنده"}),a(k,{children:[r(g,{link:"/",children:"ناحیه کاربری"}),r(g,{link:"/shop",children:"فروشگاه"}),r(g,{children:"ایجاد فروشگاه"})]}),a("section",{className:"w-full xl:w-3/4 2xl:w-3/5 border border-black/5 shadow-md rounded-lg p-6",children:[a("h2",{className:"font-semibold text-xl text-gray-800 mt-4 mb-6 svg-inherit col-span-full",children:[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"30",height:"30",children:r("path",{d:"M19.949,5.536,16.465,2.05A6.958,6.958,0,0,0,11.515,0H7A5.006,5.006,0,0,0,2,5V19a5.006,5.006,0,0,0,5,5H17a5.006,5.006,0,0,0,5-5V10.485A6.951,6.951,0,0,0,19.949,5.536ZM18.535,6.95A4.983,4.983,0,0,1,19.316,8H15a1,1,0,0,1-1-1V2.684a5.01,5.01,0,0,1,1.051.78ZM20,19a3,3,0,0,1-3,3H7a3,3,0,0,1-3-3V5A3,3,0,0,1,7,2h4.515c.164,0,.323.032.485.047V7a3,3,0,0,0,3,3h4.953c.015.162.047.32.047.485Z"})})," ","فرم ایجاد فروشگاه در ۳۸ فریم"]}),r(j,{initialValues:P,validationSchema:$,onSubmit:y,children:({errors:l,submitForm:u})=>a(b,{children:[r("div",{className:"w-full overflow-x-auto h-28 px-8",children:a("section",{className:"w-[200%] md:w-auto px-8",children:[r("div",{className:"bg-gray-300 h-2 rounded-full w-full mt-8",children:r("div",{style:{width:`${100/(c.length-1)*e}%`},className:"h-2 bg-zebra width-transition"})}),r("div",{className:"grid grid-rows-1 grid-flow-col place-content-between text-center mt-2 w-full",children:c.map(({title:o},s)=>{let d=p&&N(s,l).length>0;return a("div",{className:"px-3 grow text-center pt-3 relative flex justify-center",children:[r("span",{onClick:()=>i(s),className:`cursor-pointer duration-300 circleular-dot text-black ${s<=e?"bg-x-yellow":"bg-gray-400"}`,children:C(s+1)}),a("span",{onClick:()=>i(s),className:`cursor-pointer absolute w-max duration-300 text-xs ${s<=e?"text-black":"text-gray-500"}`,children:[o,d&&r("span",{className:"mx-1 h-4 w-4 inline-grid place-content-center bg-red-500 text-white rounded-full text-center",children:"!"})]})]},s)})})]})}),a(R,{onSubmit:o=>{o.preventDefault(),o.stopPropagation(),w(!0),u()},noValidate:!0,className:"grid lg:grid-cols-2 gap-8 mt-16 px-6 fadeIn",children:[r(q,{className:"mb-3 text-xl",text:c[e].title}),r(h.Suspense,{fallback:r(b,{children:"در حال لود کردن"}),children:r(v,{})}),r(L,{nextLevel:V,prevLevel:E})]})]})})]})]})})};export{J as Component};
